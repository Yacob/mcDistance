<!DOCTYPE html>
<html>
	<head>
		<title>McDistance</title>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
		<link href="static/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
		<link href="static/dist/css/style.css" rel="stylesheet" type="text/css">
	</head>
	<body>
		<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
			<div class="navbar-header">
				<a class="navbar-brand" href="#">McDistance</a>
				<a class="navbar-text" href="directions">Get Directions</a>
				<a class="navbar-text" href="about">About</a>
			</div>
		</nav>

		<div id="map-canvas">
			<!-- map rendered here -->
		</div>


		<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyCeCQnTkgPNgimqC6XYrIprtVAF38Z4etg&sensor=false"></script>
		<script src="https://code.jquery.com/jquery.js"></script>
		<script src="/static/dist/js/bootstrap.min.js"></script>

		<script type="text/javascript">
			var map;
			function initialize() {
				var origin;
				function showMap(mapOptions) {
					map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);
				}

				function failMap(error) {
				  	console.error(error);
					showMap({
						center: new google.maps.LatLng(-53.093199,73.52452),
						zoom: 11
					});
					setCircle(new google.maps.LatLng(-53.093199,73.52452));
				
				}

				if(navigator.geolocation)
				{
					navigator.geolocation.getCurrentPosition(function(position) {

						var lat = position.coords.latitude;
						var lng = position.coords.longitude;
						showMap({
							center: new google.maps.LatLng(lat, lng),
							zoom: 11
						});
						setCircle(new google.maps.LatLng(lat, lng));
					},
					failMap);
				}
				else
				{
					alert("you ain't got no gps");
					failMap("no gps");
				}
				function setRadius(origin){
					var distance = 3000;

					return distance;
				}
				function setCircle(origin){
					var cityCircle;
			  
					var mcRadius = {
						strokeColor: '#FF0000',
						strokeOpacity: 0.8,
						strokeWeight: 2,
			   			map: map,
			   			center: origin,
			    			radius: setRadius(origin)
			 		};

			 		cityCircle = new google.maps.Circle(mcRadius);
				}
			}
          	
      			google.maps.event.addDomListener(window, 'load', initialize);

		
    		</script>      
	</body>
</html>
